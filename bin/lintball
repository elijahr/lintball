#!/usr/bin/env bash

env

npm config get prefix

echo ">>>>"
find "$(npm config get prefix)"
echo "<<<<"

set -ueo pipefail

# path to node_modules/.bin
BIN_DIR="$(dirname "${BASH_SOURCE[0]}")"

if [ "$(basename "$BIN_DIR")" = ".bin" ]; then
  # path to local node_modules/lintball
  LINTBALL_DIR="$(
    cd "${BIN_DIR}/../lintball"
    pwd
  )"
else
  # path to repo
  LINTBALL_DIR="$(
    cd "${BIN_DIR}/.."
    pwd
  )"
fi

# shellcheck source=SCRIPTDIR/../lib/cli.bash
source "${LINTBALL_DIR}/lib/cli.bash"

cli_entrypoint "$@" || exit $?
